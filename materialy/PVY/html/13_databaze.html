<h3 id="n-vrh-datab-z-modelov-n-db-a-jazyk-sql">Návrh databází, modelování DB a jazyk SQL</h3>
<h4 id="co-je-to-sql-">Co je to SQL?</h4>
<blockquote>
<p>= strukturovaný dotazovací jazyk, který se používá pro práci s daty v relačních DB.</p>
</blockquote>
<p>Patří mezi jazyky Deklarativní, mezitím co u imperativních jazyků, kde musíme říkat PC vše krok po kroku, tak u deklarativních pouze říkáme, co má být výsledek, kde nás nezajímá, jak se k tomu PC dostane, ale důležitý je pro nás ten patřičný výsledek.
Díky tomu DB dotazy jsou zjednodušeny např. „Vrať mi tabulku s 5 městy, které mají největší turistický ruch“. Po nějaké kratší době, samozřejmě záleží na tom, kolik máme v DB položek, nám vychrlí výsledek bez jakéhokoliv postupu. </p>
<h4 id="p-kazy-">Příkazy:</h4>
<pre><code class="lang-sh"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">Name</span>, City <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">User</span>
Vybere z tabulky jmé<span class="hljs-keyword">no</span> a město a vypíše nám jen tyto <span class="hljs-number">2</span> sloupce.
</code></pre>
<pre><code class="lang-sh"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Users</span> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">Group</span>= ‘<span class="hljs-keyword">admin</span>‘
Vybere vše z tabulky <span class="hljs-keyword">Users</span>, kde je přiřazená <span class="hljs-keyword">Group</span> admin.
</code></pre>
<pre><code class="lang-sh"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Users</span> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">Group</span>= ‘<span class="hljs-keyword">admin</span>‘ <span class="hljs-keyword">AND</span> <span class="hljs-keyword">Group</span>= ‘moderator‘
Ukáže řádky, kde hodnota sloupce <span class="hljs-keyword">Group</span> = ‘<span class="hljs-keyword">admin</span>‘. Lze zde přidat i více podmínek   pomocí (<span class="hljs-keyword">AND</span>, <span class="hljs-keyword">OR</span>, <span class="hljs-keyword">NOT</span>).
</code></pre>
<pre><code class="lang-sh"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Users</span> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">Group</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">LIKE</span> ‚H%‘
Vrací všechny řádky z dané tabulky, kde ve sloupci <span class="hljs-keyword">Group</span> není řetězec začínající písmenem H a za ním <span class="hljs-number">0</span>-n libovolných symbolů.
</code></pre>
<ul>
<li>% - 0…n</li>
<li>_ 1 libovolný symbol</li>
<li>[abc] – množina symbolů</li>
<li>[^abc] – všechny symboly, krom určených
... <pre><code class="lang-sh"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> Char.level <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">level</span> &gt; <span class="hljs-number">50</span>
Ukáže nám řádky, kde <span class="hljs-keyword">level</span> postavy je větší jak <span class="hljs-number">50.</span>
</code></pre>
<pre><code class="lang-sh"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Users</span> <span class="hljs-keyword">WHERE</span> userID <span class="hljs-keyword">IS</span> <span class="hljs-literal">NULL</span>
Na <span class="hljs-literal">NULL</span> se musíme v podmínce odkazovat slovem IS.
Jak můžeme modifikovat <span class="hljs-keyword">data</span> v DB?
</code></pre>
<pre><code class="lang-sh"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> <span class="hljs-keyword">Users</span> (<span class="hljs-keyword">Name</span>, <span class="hljs-keyword">Level</span>, ...) <span class="hljs-keyword">VALUES</span> (‘Matej‘,‘<span class="hljs-number">69</span>‘, …) 
Vloží nový řádek, kde <span class="hljs-keyword">Name</span> = ‚Matej‘ a <span class="hljs-keyword">Level</span> = ‚<span class="hljs-number">69</span>‘
</code></pre>
<pre><code class="lang-sh"><span class="hljs-keyword">UPDATE</span> <span class="hljs-keyword">Users</span> <span class="hljs-keyword">SET</span> <span class="hljs-keyword">level</span> = ‘<span class="hljs-number">420</span>‘ <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">level</span> = ‘<span class="hljs-number">69</span>‘ 
Upraví řádky, kde <span class="hljs-keyword">Level</span> = ‚<span class="hljs-number">69</span>‘ a přepíše je na <span class="hljs-keyword">Level</span> = ‚<span class="hljs-number">420</span>‘
</code></pre>
<pre><code class="lang-sh"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Users</span> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">level</span> = ‘<span class="hljs-number">420</span>‘
Odstraní řádek, kde <span class="hljs-keyword">Level</span> = ‚<span class="hljs-number">420</span>‘
</code></pre>
</li>
</ul>
<h4 id="datab-zov-syst-m-">Databázový systém:</h4>
<ul>
<li>Je uspořádaná množina informací vložená na datové medium.</li>
<li>Předchůdcem byli papírové kartotéky.</li>
<li>Databázový systém (DBS).</li>
<li>Umožňuje shromažďovat různé informace.</li>
<li>Ukládá a udržuje v platném stavu data.</li>
</ul>
<h5 id="dbs-se-skl-d-ze-t-st-">DBS se skládá ze tří částí:</h5>
<p><strong>1. SŘBD</strong> (Systém řízení báze dat)</p>
<ul>
<li>Program, jehož úkole je pracovat s ulož.</li>
<li>nformace (organizuje je a udržuje platné)</li>
</ul>
<p><strong>2. DBA</strong> (Databázová Aplikace) = Program umožňující manipulaci s daty (výběry, prohlížení, aktualizace)</p>
<p><strong>3.    DB</strong> (Báze dat) = Množina informací, o kterých chceme mít přehled</p>
<h4 id="s-bd-syst-m-zen-dat-">SŘBD (Systém řízení dat)</h4>
<ul>
<li>Definice dat</li>
<li>Údržba dat</li>
<li>Manipulace dat</li>
<li>Integrita Dat (chrání data před vnějšími činiteli)</li>
<li>Zobrazování dat – není nutné pro vnitřní funkci databáze, ale pro uživatele ANO</li>
</ul>
<h4 id="datab-zov-model">Databázový model</h4>
<ul>
<li>Popis fungování databáze</li>
<li>Popisuje, jak jsou dat zpřístupňována uživatelů a jak programátorům</li>
<li>Popisuje vztahy mezi objekty</li>
<li>Využívá Abstrakci</li>
<li>Zachycuje vlastnosti objektu</li>
</ul>
<h4 id="n-vrh-datab-ze">Návrh databáze</h4>
<ul>
<li>Modelování = ERD model (entitně relační diagram)</li>
<li>Třída – kategorie nebo skupina věcí, které mají podobné vlastnosti a stejné nebo podobné chování</li>
<li>Objekt – určitá věc, která má specifické hodnoty vlastností</li>
<li><p>Kardinality </p>
<ul>
<li>1 = Právě jeden</li>
<li>*... nula nebo více</li>
<li>0 … 1 = 0 nebo 1</li>
<li>m … n</li>
</ul>
</li>
<li><p>Agregace – nadřízená třída se skládá z podřízených, ale podřízená třída může být agregována i jinde.</p>
</li>
<li><p>Kompozice – nadřízená třída sama řídí životní cyklus objektů podřízeným tříd a ty jsou na nadřízené třídě závislé.</p>
</li>
</ul>
<h4 id="selekce">Selekce</h4>
<blockquote>
<p>Relace A na základě podmínky vytvoří relaci se záhlavím relace A + tělem obsahujícím n-tice splňující podmínku.</p>
</blockquote>
<h4 id="datov-typy-datab-ze-">Datové typy Databáze:</h4>
<h5 id="cel-sla-">Celá čísla:</h5>
<blockquote>
<p>TINYINT = 8bitové číslo
SMALLINT =16bitové číslo
MEDIUMINT = 24bitové číslo
INT = 32bitové číslo
BIGINT = 64bitové číslo</p>
</blockquote>
<h5 id="texty-">Texty:</h5>
<blockquote>
<p>TINYTEXT = Max. 255 B
TEXT = Max. 64KB (opravdu dlouhý text)
MEDIUMTEXT = Max. 224 B
LONGTEXT = Max. 232 B
VARCHAR = Počet znaků, jaký si zvolíte, max. 64 KB
CHAR    = Pevný počet znaků, jaký si zvolíte, max. 255</p>
</blockquote>